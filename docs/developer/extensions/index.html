<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.62.2"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=../../../favicons/favicon.ico><link rel=apple-touch-icon href=../../../favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=../../../favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=../../../favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=../../../favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=../../../favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=../../../favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=../../../favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=../../../favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=../../../favicons/android-192x192.png sizes=192x192><title>Extensions API | Vortex Showcase</title><meta property="og:title" content="Extensions API"><meta property="og:description" content="Integrating and extending Showcase from extensions"><meta property="og:type" content="article"><meta property="og:url" content="/docs/developer/extensions/"><meta property="article:modified_time" content="2020-10-22T14:32:49+10:00"><meta property="og:site_name" content="Vortex Showcase"><meta itemprop=name content="Extensions API"><meta itemprop=description content="Integrating and extending Showcase from extensions"><meta itemprop=dateModified content="2020-10-22T14:32:49+10:00"><meta itemprop=wordCount content="897"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Extensions API"><meta name=twitter:description content="Integrating and extending Showcase from extensions"><link rel=preload href=../../../scss/main.min.d498477bf7e6c329b997fae74d812b457cb4e208fd17a9f6e73dcb65c19fe3a3.css as=style><link href=../../../scss/main.min.d498477bf7e6c329b997fae74d812b457cb4e208fd17a9f6e73dcb65c19fe3a3.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=../../../><span class=navbar-logo></span><span class="text-uppercase font-weight-bold">Vortex Showcase</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=../../../docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=../../../blog/><span>Updates</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=../../../offline-search-index.e7d24df204d5032fb7c1a9fe81c2944a833cd2eef5e8fb9cf6dcfafe102cfeb4b4695d7a81fbe74c125029a047a5ed1ab624242e9f5b431ef088d1b6bf6c77a6.json data-offline-search-base-href=../../../ data-offlnie-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=../../../offline-search-index.e7d24df204d5032fb7c1a9fe81c2944a833cd2eef5e8fb9cf6dcfafe102cfeb4b4695d7a81fbe74c125029a047a5ed1ab624242e9f5b431ef088d1b6bf6c77a6.json data-offline-search-base-href=../../../ data-offlnie-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a></li><ul><li class="collapse show" id=docs><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/introduction/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Introduction</a></li><ul><li class=collapse id=docsintroduction><a class="td-sidebar-link td-sidebar-link__page" id=m-docsintroductionfaq href=../../../docs/introduction/faq/>FAQ</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/usage/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Usage</a></li><ul><li class=collapse id=docsusage><a class="td-sidebar-link td-sidebar-link__page" id=m-docsusageinstallation href=../../../docs/usage/installation/>Installation</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsusageshowcase href=../../../docs/usage/showcase/>Creating Showcases</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsusageextended href=../../../docs/usage/extended/>Extended Formats</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/developer/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Development</a></li><ul><li class="collapse show" id=docsdeveloper><a class="td-sidebar-link td-sidebar-link__page" id=m-docsdeveloperdocs href=../../../docs/developer/docs/>Documentation</a>
<a class="td-sidebar-link td-sidebar-link__page active" id=m-docsdeveloperextensions href=../../../docs/developer/extensions/>Extensions</a></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/agc93/vortex-showcase/edit/master/docs//content/en/docs/developer/extensions.md target=_blank><i class="fa fa-edit fa-fw"></i>Edit this page</a>
<a href="https://github.com/agc93/vortex-showcase/issues/new?title=Extensions%20API" target=_blank><i class="fab fa-github fa-fw"></i>Create documentation issue</a></div><nav id=TableOfContents><ul><li><a href=#showcase-formats>Showcase Formats</a><ul><li><a href=#registering-formatsrenderers>Registering formats/renderers</a></li><li><a href=#rendering-showcases>Rendering showcases</a></li></ul></li><li><a href=#actions>Actions</a><ul><li><a href=#registering-an-action>Registering an action</a></li><li><a href=#building-an-action>Building an action</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=../../../docs/>Documentation</a></li><li class=breadcrumb-item><a href=../../../docs/developer/>Development</a></li><li class="breadcrumb-item active" aria-current=page><a href=../../../docs/developer/extensions/>Extensions</a></li></ol></nav><div class=td-content><h1>Extensions API</h1><div class=lead>Integrating and extending Showcase from extensions</div><p>The one advantage to Vortex Showcase's hilariously excessive over-engineering is that it has ended up specifically designed to make adding new formats or actions very simple.</p><div class="pageinfo pageinfo-primary"><p>The new API introduced with 0.1.0 (while functional and supported) is still highly experimental and subject to changes.</p></div><h2 id=showcase-formats>Showcase Formats</h2><p>In it's simplest form, a format is a function that takes a model (an <code>ITemplateModel</code> to be specific) and returns a string with the text content of the showcase. The complicated integration work of pulling mods and their metadata out of Vortex, as well as filtering out some stuff, is done by Showcase itself before the format renderers are called. For example, the default renderers take this model and use Mustache.js to render templates with that model and return the generated string content.</p><p>All showcase formats are loaded directly from Vortex's session state using the extension API, even the default ones. The Markdown and BBCode renderers are not hard-coded anywhere, they're just registered as formats when the extension loads.</p><blockquote><p>To see an example of how additional formats can be implemented and registered, check out the <a href=https://github.com/agc93/vortex-showcase-extra>Extended Formats extension</a>.</p></blockquote><h3 id=registering-formatsrenderers>Registering formats/renderers</h3><p>Registering a new format requires two things: an implementation of <code>IShowcaseRenderer</code> and a call to <code>addShowcaseRenderer(key: string, () => IShowcaseRenderer)</code>.</p><p>The string key (i.e. <code>Markdown</code>) is what's shown to users so make sure it's reasonably friendly. The second parameter is a callback to return your renderer. If you need constructor params or any other weird setup, you should be safe-ish to do that here.</p><blockquote><p>Your renderer will be instantiated every time the showcase process is started, so don't do anything too heavy.</p></blockquote><p>For external extensions, you can register a renderer like so:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>requireExtension</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Vortex Showcase&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>once</span><span style=color:#000;font-weight:700>(</span><span style=color:#000;font-weight:700>(</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>api</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ext</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>addShowcaseAction</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;My Custom Action&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CustomAction</span><span style=color:#000;font-weight:700>(</span><span style=color:#000;font-weight:700>)</span><span style=color:#000;font-weight:700>)</span><span style=color:#000;font-weight:700>;</span>
    <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>api</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ext</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>addShowcaseRenderer</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;My Custom Renderer&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CustomRenderer</span><span style=color:#000;font-weight:700>(</span><span style=color:#000;font-weight:700>)</span><span style=color:#000;font-weight:700>)</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000;font-weight:700>}</span><span style=color:#000;font-weight:700>)</span><span style=color:#000;font-weight:700>;</span>
</code></pre></div><h3 id=rendering-showcases>Rendering showcases</h3><p>When a user creates a showcase, they are prompted with all the currently registered renderers and can choose one. Once they hit Create, the extension will pull the <code>IShowcaseRenderer</code> with the matching key from session state and invoke it in two stages: model build and final rendering.</p><p>First, to build the model metadata, the <code>createModel</code> function for the current renderer is called for each mod. If you don't need to do any customisation or control how mod metadata is created, then just return <code>null</code>, and the extension will populate sane defaults. You can also just change the model properties you care about and the model you return will be merged with the default.</p><p>Next, once the template model has been built, the extension will call the <code>createShowcase</code> function passing in the generated model and the extension API (for convenience). This is where the actual rendering happens, and this function should return the <strong>final</strong> string contents of the showcase, which the user can then copy/save/take action on.</p><h4 id=optional-functions>Optional functions</h4><p>There's an extra function in a renderer to return a file name in <code>createFileName</code> based on the user-provided title. This is completely optional: if your method a) doesn't implement <code>createFileName</code> or b) returns <code>null</code>/<code>undefined</code>, Vortex will prompt the user for a file name and location. You can, however, use this step to manually specify a name (as the Markdown renderer does), or only return a file extension (i.e. <code>return '*.csv'</code>) and Vortex will also prompt the user, but automatically use the right extension.</p><p>If your renderer only works with specific games, you can also implement the <code>isEnabled(gameId: string)</code> function, and your renderer will only be shown to the user if that function returns <code>true</code> for the currently managed game.</p><h2 id=actions>Actions</h2><p>Actions are (as the name suggests) any arbitrary action that a user might want to <em>do</em> with a generated showcase. Out of the box, this includes saving to a file and copying to the clipboard, but the action API is pretty open-ended: you can do basically anything.</p><h3 id=registering-an-action>Registering an action</h3><p>Much like registering a renderer, registering a custom action is just an implementation of <code>IShowcaseAction</code> and a call to <code>addShowcaseAction</code>.</p><p>For external extensions, you can register an action like so:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>requireExtension</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;Vortex Showcase&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>once</span><span style=color:#000;font-weight:700>(</span><span style=color:#000;font-weight:700>(</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>api</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ext</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>addShowcaseAction</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;My Custom Action&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>CustomAction</span><span style=color:#000;font-weight:700>(</span><span style=color:#000;font-weight:700>)</span><span style=color:#000;font-weight:700>)</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000;font-weight:700>}</span><span style=color:#000;font-weight:700>)</span><span style=color:#000;font-weight:700>;</span>
</code></pre></div><p>The string key (i.e. <code>My Custom Action</code>) is what's shown to users so make sure it's reasonably friendly, and <strong>short</strong>. The second parameter is a callback to return your renderer. If you need constructor params or any other weird setup, you should be safe-ish to do that here.</p><h3 id=building-an-action>Building an action</h3><p>Much like renderers, custom actions are just an implementation of <code>IShowcaseAction</code> that Showcase will pull out of the session state and call after a showcase has been generated. After a showcase has been generated (i.e. the renderer has returned some output), Vortex will offer all the available actions to the user.</p><p>The main implementation of an action happens in the <code>runAction(renderer: string, output: string)</code> function, which will be called after the user has chosen that action (from the notification or dialog). The action will be passed the <em>name</em> of the renderer that generated the showcase (in case you need special handling for certain formats), and the raw output from the renderer (the <code>output</code> parameter). You can do pretty much anything in the <code>runAction</code> function: the <code>ClipboardAction</code> is a simple example of what you can do with actions, but you can do just about anything.</p><blockquote><p>You can optionally implement <code>isEnabled</code> if you only want your action to be available with certain renderers (or not certain renderers)</p></blockquote><div class="text-muted mt-5 pt-3 border-top">Last modified October 22, 2020: <a href=https://github.com/agc93/vortex-showcase/commit/e7f8717aee08898268d447834c7c57662cfdf2a7>Docs updates for extra package (e7f8717)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Nexus Mods" aria-label="Nexus Mods"><a class=text-white target=_blank href=https://www.nexusmods.com/site/mods/145><i class="fa fa-cloud-download-alt"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/agc93/vortex-showcase><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2020 agc93 All Rights Reserved</small></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=../../../js/main.min.b6dfd66b2d261380250c517fd39bc9d8659709e9fc924b00d8fed92e8d9df768.js integrity="sha256-tt/Way0mE4AlDFF/05vJ2GWXCen8kksA2P7ZLo2d92g=" crossorigin=anonymous></script></body></html>