<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Vortex Showcase â€“ Developer Guide</title><link>/docs/developer/</link><description>Recent content in Developer Guide on Vortex Showcase</description><generator>Hugo -- gohugo.io</generator><atom:link href="/docs/developer/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Docs Contributions</title><link>/docs/developer/docs/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/docs/developer/docs/</guid><description>
&lt;p>Ironically, the documentation side of the project has slightly higher environment requirements than the project itself! We're using the Hugo static site generator with the Docsy template, so you will need to have a recent version of Hugo Extended installed, as well as &lt;code>npm&lt;/code> to restore the required tools.&lt;/p>
&lt;p>Actual docs content is all stored in the &lt;code>content/&lt;/code> directory, organised under language. At this time only English (&lt;code>en&lt;/code>) is included, although translations are more than welcome!&lt;/p></description></item><item><title>Docs: Extensions API</title><link>/docs/developer/extensions/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/docs/developer/extensions/</guid><description>
&lt;p>The one advantage to Vortex Showcase's hilariously excessive over-engineering is that it has ended up specifically designed to make adding new formats or actions very simple.&lt;/p>
&lt;h2 id="showcase-formats">Showcase Formats&lt;/h2>
&lt;p>In it's simplest form, a format is a function that takes a model (an &lt;code>ITemplateModel&lt;/code> to be specific) and returns a string with the text content of the showcase. The complicated integration work of pulling mods and their metadata out of Vortex, as well as filtering out some stuff, is done by Showcase itself before the format renderers are called. For example, the two default renderers take this model and use Mustache.js to render templates with that model and return the generated string content.&lt;/p>
&lt;p>All showcase formats are loaded directly from Vortex's session state using the extension API, even the default ones. The Markdown and BBCode renderers are not hard-coded anywhere, they're just registered as formats when the extension loads.&lt;/p>
&lt;h3 id="registering-formatsrenderers">Registering formats/renderers&lt;/h3>
&lt;p>Registering a new format requires two things: an implementation of &lt;code>IShowcaseRenderer&lt;/code> and dispatching a &lt;code>registerShowcaseRenderer&lt;/code> action. You can find this in the &lt;code>index.ts&lt;/code> for the default formats, where we register a &lt;code>MarkdownRenderer&lt;/code> as below:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ts" data-lang="ts">&lt;span style="color:#000">context&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">once&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;gt;&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;span style="color:#000">context&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">api&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">store&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">dispatch&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">registerShowcaseRenderer&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;Markdown&amp;#39;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;gt;&lt;/span> &lt;span style="color:#204a87;font-weight:bold">new&lt;/span> &lt;span style="color:#000">MarkdownRenderer&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>
&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>
&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>The string key (i.e. &lt;code>Markdown&lt;/code>) is what's shown to users so make sure it's reasonably friendly. The second parameter is a callback to return your renderer. If you need constructor params or any other weird setup, you should be safe-ish to do that here.&lt;/p>
&lt;h3 id="rendering-showcases">Rendering showcases&lt;/h3>
&lt;p>When a user creates a showcase, they are prompted with all the currently registered renderers and can choose one. Once they hit Create, the extension will pull the &lt;code>IShowcaseRenderer&lt;/code> with the matching key from session state and invoke it in two stages: model build and final rendering.&lt;/p>
&lt;p>First, to build the model metadata, the &lt;code>createModel&lt;/code> function for the current renderer is called for each mod. If you don't need to do any customisation or control how mod metadata is created, then just return &lt;code>null&lt;/code>, and the extension will populate sane defaults (using &lt;code>ModInfoDisplay.create&lt;/code>).&lt;/p>
&lt;p>Next, once the template model has been built, the extension will call the &lt;code>createShowcase&lt;/code> function passing in the generated model and the extension API (for convenience). This is where the actual rendering happens, and this function should return the &lt;strong>final&lt;/strong> string contents of the showcase, which the user can then copy/save.&lt;/p>
&lt;p>The final (and minor) function in a renderer is to return a file name in &lt;code>createFileName&lt;/code> based on the user-provided title. This is completely optional: if your method a) doesn't implement &lt;code>createFileName&lt;/code> or b) returns &lt;code>null&lt;/code>/&lt;code>undefined&lt;/code>, Vortex will prompt the user for a file name and location. You can, however, use this step to manually specify a name (as the Markdown renderer does), or only return a file extension (i.e. &lt;code>return '*.csv'&lt;/code>) and Vortex will also prompt the user, but automatically use the right extension.&lt;/p>
&lt;h2 id="actions">Actions&lt;/h2>
&lt;p>There's the beginnings of an API to take certain actions after a showcase is generated, but this is not finalised so I have not included it here. This API is intended for things like uploading certain showcase formats, or letting users directly share a showcase through other means.&lt;/p></description></item></channel></rss>